<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>üñ•Ô∏è PCILeech Firmware Generator TUI | PCILeech Firmware Generator</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="üñ•Ô∏è PCILeech Firmware Generator TUI" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Generate custom PCIe firmware for PCILeech" />
<meta property="og:description" content="Generate custom PCIe firmware for PCILeech" />
<link rel="canonical" href="http://localhost:4000/tui-readme.html" />
<meta property="og:url" content="http://localhost:4000/tui-readme.html" />
<meta property="og:site_name" content="PCILeech Firmware Generator" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="üñ•Ô∏è PCILeech Firmware Generator TUI" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Generate custom PCIe firmware for PCILeech","headline":"üñ•Ô∏è PCILeech Firmware Generator TUI","url":"http://localhost:4000/tui-readme.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="PCILeech Firmware Generator" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">PCILeech Firmware Generator</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">üñ•Ô∏è PCILeech Firmware Generator TUI</h1>
  </header>

  <div class="post-content">
    <h1 id="Ô∏è-pcileech-firmware-generator-tui">üñ•Ô∏è PCILeech Firmware Generator TUI</h1>

<p><a href="https://badge.fury.io/py/pcileechfwgenerator"><img src="https://badge.fury.io/py/pcileechfwgenerator.svg" alt="PyPI version" /></a>
<a href="https://pypi.org/project/pcileechfwgenerator/"><img src="https://img.shields.io/pypi/pyversions/pcileechfwgenerator.svg" alt="Python Support" /></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" /></a></p>

<p>A modern Text User Interface (TUI) for the PCILeech firmware generation workflow, built with the Textual framework.</p>

<hr />

<h2 id="-table-of-contents">üìë Table of Contents</h2>

<ul>
  <li><a href="#-overview">üîç Overview</a></li>
  <li><a href="#-installation">üöÄ Installation</a>
    <ul>
      <li><a href="#prerequisites">Prerequisites</a></li>
      <li><a href="#install-tui-dependencies">Install TUI Dependencies</a></li>
    </ul>
  </li>
  <li><a href="#-usage">üéÆ Usage</a>
    <ul>
      <li><a href="#launch-tui-mode">Launch TUI Mode</a></li>
      <li><a href="#tui-interface-overview">TUI Interface Overview</a></li>
    </ul>
  </li>
  <li><a href="#-features">‚ú® Features</a>
    <ul>
      <li><a href="#device-management">Device Management</a></li>
      <li><a href="#configuration-management">Configuration Management</a></li>
      <li><a href="#build-monitoring">Build Monitoring</a></li>
      <li><a href="#system-integration">System Integration</a></li>
    </ul>
  </li>
  <li><a href="#Ô∏è-configuration-profiles">‚öôÔ∏è Configuration Profiles</a>
    <ul>
      <li><a href="#profile-locations">Profile Locations</a></li>
      <li><a href="#default-profiles">Default Profiles</a></li>
      <li><a href="#creating-custom-profiles">Creating Custom Profiles</a></li>
    </ul>
  </li>
  <li><a href="#Ô∏è-keyboard-shortcuts">‚å®Ô∏è Keyboard Shortcuts</a></li>
  <li><a href="#-error-handling">üîß Error Handling</a>
    <ul>
      <li><a href="#common-errors-and-solutions">Common Errors and Solutions</a></li>
    </ul>
  </li>
  <li><a href="#-advanced-features">üöÄ Advanced Features</a>
    <ul>
      <li><a href="#behavior-profiling">Behavior Profiling</a></li>
      <li><a href="#system-status-monitoring">System Status Monitoring</a></li>
      <li><a href="#build-process-integration">Build Process Integration</a></li>
      <li><a href="#configuration-validation">Configuration Validation</a></li>
    </ul>
  </li>
  <li><a href="#-troubleshooting">üêõ Troubleshooting</a>
    <ul>
      <li><a href="#tui-wont-start">TUI Won‚Äôt Start</a></li>
      <li><a href="#device-detection-issues">Device Detection Issues</a></li>
      <li><a href="#build-failures">Build Failures</a></li>
    </ul>
  </li>
  <li><a href="#Ô∏è-development">üõ†Ô∏è Development</a>
    <ul>
      <li><a href="#architecture">Architecture</a></li>
      <li><a href="#key-components">Key Components</a></li>
      <li><a href="#extending-the-tui">Extending the TUI</a></li>
    </ul>
  </li>
  <li><a href="#-contributing">ü§ù Contributing</a></li>
  <li><a href="#-license">üìÑ License</a></li>
  <li><a href="#Ô∏è-disclaimer">‚ö†Ô∏è Disclaimer</a></li>
</ul>

<hr />

<h2 id="-overview">üîç Overview</h2>

<p>The TUI provides an interactive, user-friendly interface that addresses the key pain points of the command-line workflow:</p>

<ul>
  <li><strong>Enhanced Device Discovery</strong>: Visual PCIe device browser with detailed information</li>
  <li><strong>Guided Configuration</strong>: Intuitive configuration wizard with validation</li>
  <li><strong>Real-time Build Monitoring</strong>: Live progress tracking with resource usage</li>
  <li><strong>Error Guidance</strong>: Intelligent error analysis with suggested fixes</li>
  <li><strong>Profile Management</strong>: Save and load configuration profiles</li>
</ul>

<h2 id="-installation">üöÄ Installation</h2>

<h3 id="prerequisites">Prerequisites</h3>

<ul>
  <li>Python 3.9 or higher</li>
  <li>Root/sudo access (required for device binding)</li>
  <li>Podman container runtime</li>
  <li>PCILeech firmware generation environment</li>
</ul>

<h3 id="install-tui-dependencies">Install TUI Dependencies</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install TUI-specific dependencies</span>
pip <span class="nb">install</span> <span class="nt">-r</span> requirements-tui.txt

<span class="c"># Or install individual packages</span>
pip <span class="nb">install </span>textual rich psutil watchdog pydantic
</code></pre></div></div>

<h2 id="-usage">üéÆ Usage</h2>

<h3 id="launch-tui-mode">Launch TUI Mode</h3>

<p>There are several ways to launch the TUI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Method 1: Using the dedicated TUI script</span>
python3 pcileech.py tui

<span class="c"># Method 2: Direct execution</span>
<span class="nb">sudo </span>python3 -m src.tui.main

<span class="c"># Method 3: Direct execution</span>
<span class="nb">sudo </span>python3 <span class="nt">-m</span> src.tui.main

<span class="c"># Method 4: Using the sudo wrapper (recommended for root access)</span>
./install-sudo-wrapper.sh  <span class="c"># Install the wrapper first (one-time setup)</span>
pcileech-tui-sudo
</code></pre></div></div>

<blockquote>
  <p><strong>Note</strong>: UI operations require root privileges. The sudo wrapper script preserves the Python environment when running with sudo, preventing module import errors.</p>
</blockquote>

<h3 id="tui-interface-overview">TUI Interface Overview</h3>

<p>The TUI is organized into several panels:</p>

<h4 id="1-device-selection-panel-top-left">1. Device Selection Panel (Top Left)</h4>
<ul>
  <li>Lists all detected PCIe devices</li>
  <li>Shows device status, BDF address, name, driver, and IOMMU group</li>
  <li>Provides device suitability indicators</li>
  <li>Refresh and details buttons</li>
</ul>

<h4 id="2-configuration-panel-top-right">2. Configuration Panel (Top Right)</h4>
<ul>
  <li>Displays current build configuration</li>
  <li>Shows board type, device type, and enabled features</li>
  <li>Configure, load profile, and save profile buttons</li>
</ul>

<h4 id="3-build-progress-panel-middle">3. Build Progress Panel (Middle)</h4>
<ul>
  <li>Real-time build progress with stage tracking</li>
  <li>Resource usage monitoring (CPU, memory, disk)</li>
  <li>Build control buttons (start, pause, stop)</li>
  <li>Log viewing capability</li>
</ul>

<h4 id="4-system-status-panel-bottom-left">4. System Status Panel (Bottom Left)</h4>
<ul>
  <li>Podman availability and status</li>
  <li>Vivado detection and version</li>
  <li>USB device count</li>
  <li>Disk space information</li>
  <li>Root access status</li>
</ul>

<h4 id="5-quick-actions-panel-bottom-right">5. Quick Actions Panel (Bottom Right)</h4>
<ul>
  <li>Device scanning</li>
  <li>Output directory access</li>
  <li>Build report viewing</li>
  <li>Advanced settings</li>
  <li>Documentation links</li>
</ul>

<h2 id="-features">‚ú® Features</h2>

<h3 id="device-management">Device Management</h3>

<ul>
  <li><strong>Auto-discovery</strong>: Automatically scans and lists PCIe devices</li>
  <li><strong>Enhanced Information</strong>: Shows vendor names, driver status, IOMMU groups</li>
  <li><strong>Suitability Assessment</strong>: Rates devices for firmware generation compatibility</li>
  <li><strong>Driver Status</strong>: Indicates if devices are bound to drivers</li>
</ul>

<h3 id="configuration-management">Configuration Management</h3>

<ul>
  <li><strong>Profile System</strong>: Save and load configuration profiles</li>
  <li><strong>Default Profiles</strong>: Pre-configured profiles for common scenarios:
    <ul>
      <li>Network Device Standard</li>
      <li>Storage Device Optimized</li>
      <li>Quick Development</li>
      <li>Full Featured</li>
    </ul>
  </li>
  <li><strong>Validation</strong>: Real-time configuration validation with error messages</li>
</ul>

<h3 id="build-monitoring">Build Monitoring</h3>

<ul>
  <li><strong>Stage Tracking</strong>: Visual progress through 6 build stages:
    <ol>
      <li>Environment Validation</li>
      <li>Device Analysis</li>
      <li>Register Extraction</li>
      <li>SystemVerilog Generation</li>
      <li>Vivado Synthesis</li>
      <li>Bitstream Generation</li>
    </ol>
  </li>
  <li><strong>Resource Monitoring</strong>: Real-time CPU, memory, and disk usage</li>
  <li><strong>Error Detection</strong>: Automatic error detection with guided recovery</li>
</ul>

<h3 id="system-integration">System Integration</h3>

<ul>
  <li><strong>Backward Compatibility</strong>: Maintains all existing CLI functionality</li>
  <li><strong>Container Integration</strong>: Seamless integration with Podman containers</li>
  <li><strong>Log Management</strong>: Integrated log viewing and analysis</li>
  <li><strong>USB Device Support</strong>: Automatic USB device detection for flashing</li>
</ul>

<h2 id="Ô∏è-configuration-profiles">‚öôÔ∏è Configuration Profiles</h2>

<h3 id="profile-locations">Profile Locations</h3>

<p>Profiles are stored in <code class="language-plaintext highlighter-rouge">~/.pcileech/profiles/</code> as JSON files.</p>

<h3 id="default-profiles">Default Profiles</h3>

<h4 id="network-device-standard">Network Device Standard</h4>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Network Device Standard"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"board_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcileech_35t325_x1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"advanced_sv"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enable_variance"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"behavior_profiling"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"profile_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">30.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"donor_dump"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="quick-development">Quick Development</h4>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quick Development"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"board_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35t"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"device_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"generic"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"advanced_sv"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enable_variance"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"flash_after_build"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"donor_dump"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="local-build">Local Build</h4>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Build"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"board_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75t"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"device_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"generic"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"advanced_sv"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enable_variance"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"donor_dump"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"local_build"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"donor_info_file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~/.pcileech/donor_info.json"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="creating-custom-profiles">Creating Custom Profiles</h3>

<ol>
  <li>Configure settings in the TUI</li>
  <li>Click ‚ÄúSave Profile‚Äù</li>
  <li>Enter a profile name</li>
  <li>Profile is saved to <code class="language-plaintext highlighter-rouge">~/.pcileech/profiles/</code></li>
</ol>

<h2 id="Ô∏è-keyboard-shortcuts">‚å®Ô∏è Keyboard Shortcuts</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Ctrl+C</code>: Exit application</li>
  <li><code class="language-plaintext highlighter-rouge">Tab</code>: Navigate between panels</li>
  <li><code class="language-plaintext highlighter-rouge">Enter</code>: Activate selected button/item</li>
  <li><code class="language-plaintext highlighter-rouge">Space</code>: Toggle checkboxes</li>
  <li><code class="language-plaintext highlighter-rouge">‚Üë/‚Üì</code>: Navigate lists and tables</li>
  <li><code class="language-plaintext highlighter-rouge">F1</code>: Help (if implemented)</li>
</ul>

<h2 id="-error-handling">üîß Error Handling</h2>

<p>The TUI provides intelligent error analysis and guidance:</p>

<h3 id="common-errors-and-solutions">Common Errors and Solutions</h3>

<h4 id="vfio-binding-failed">VFIO Binding Failed</h4>
<ul>
  <li><strong>Cause</strong>: IOMMU not enabled or vfio-pci module not loaded</li>
  <li><strong>Solutions</strong>:
    <ul>
      <li>Enable IOMMU in BIOS</li>
      <li>Load vfio-pci module: <code class="language-plaintext highlighter-rouge">modprobe vfio-pci</code></li>
      <li>Unbind current driver first</li>
    </ul>
  </li>
</ul>

<h4 id="container-image-not-found">Container Image Not Found</h4>
<ul>
  <li><strong>Cause</strong>: DMA firmware container not built</li>
  <li><strong>Solutions</strong>:
    <ul>
      <li>The container is now automatically built when needed</li>
      <li>If automatic build fails, manually build with: <code class="language-plaintext highlighter-rouge">podman build -t dma-fw .</code></li>
      <li>Check Podman installation and internet connectivity</li>
    </ul>
  </li>
</ul>

<h4 id="insufficient-permissions">Insufficient Permissions</h4>
<ul>
  <li><strong>Cause</strong>: Not running with root privileges</li>
  <li><strong>Solutions</strong>:
    <ul>
      <li>Run with sudo: <code class="language-plaintext highlighter-rouge">sudo python3 pcileech.py tui</code></li>
      <li>Add user to required groups</li>
    </ul>
  </li>
</ul>

<h2 id="-advanced-features">üöÄ Advanced Features</h2>

<h3 id="donor-device-configuration">Donor Device Configuration</h3>

<p>The TUI provides options for configuring how donor device information is obtained:</p>

<ul>
  <li>
    <p><strong>Default Mode</strong>: By default, the system builds and uses the donor_dump kernel module to extract real device information from the selected PCIe device. This provides the most accurate firmware generation.</p>
  </li>
  <li>
    <p><strong>Local Build Mode</strong>: When enabled, this mode skips using the donor_dump kernel module and instead uses either:</p>
    <ul>
      <li>A previously saved donor information file (specified via the ‚ÄúDonor Info File‚Äù option)</li>
      <li>Synthetic donor information generated based on the selected device type</li>
    </ul>
  </li>
</ul>

<p><strong>Configuration Options:</strong></p>
<ul>
  <li><strong>Donor Dump</strong>: Enable/disable using the donor_dump kernel module (enabled by default)</li>
  <li><strong>Local Build</strong>: Enable to use a donor info file or synthetic data instead of a real device</li>
  <li><strong>Donor Info File</strong>: Path to a JSON file containing donor information from a previous run</li>
</ul>

<p><strong>Benefits of Local Build Mode:</strong></p>
<ul>
  <li><strong>No Kernel Module</strong>: Useful in environments where building kernel modules is restricted</li>
  <li><strong>No Physical Device</strong>: Generate firmware without requiring the donor device to be present</li>
  <li><strong>Reproducible Builds</strong>: Use the same donor information across multiple builds</li>
</ul>

<p><strong>Usage:</strong></p>
<ol>
  <li>Select a device in the Device Selection Panel</li>
  <li>Open the Configuration Panel</li>
  <li>To use the default mode (recommended), ensure ‚ÄúDonor Dump‚Äù is enabled</li>
  <li>To use Local Build mode:
    <ul>
      <li>Enable ‚ÄúLocal Build‚Äù option</li>
      <li>Disable ‚ÄúDonor Dump‚Äù option</li>
      <li>Optionally specify a ‚ÄúDonor Info File‚Äù path</li>
    </ul>
  </li>
  <li>Start the build process</li>
</ol>

<p><img src="../docs/images/tui_config_panel.png" alt="TUI Configuration Panel" /></p>

<h3 id="behavior-profiling">Behavior Profiling</h3>

<p>The TUI provides a seamless interface for enabling and configuring behavior profiling:</p>

<ul>
  <li><strong>Enable/Disable</strong>: Toggle behavior profiling in the configuration panel</li>
  <li><strong>Duration Control</strong>: Set custom profiling duration (in seconds)</li>
  <li><strong>Real-time Monitoring</strong>: Track profiling progress in the build progress panel</li>
  <li><strong>Profile Integration</strong>: Automatically integrates profiling data into the build process</li>
</ul>

<p><strong>Configuration Options:</strong></p>
<ul>
  <li><strong>Behavior Profiling</strong>: Enable/disable the profiling feature</li>
  <li><strong>Profile Duration</strong>: Set the duration for capturing device behavior (default: 30.0 seconds)</li>
  <li><strong>Device Type</strong>: Select specific device type for optimized profiling</li>
</ul>

<p><strong>Benefits:</strong></p>
<ul>
  <li><strong>Enhanced Realism</strong>: Generated firmware mimics actual device behavior patterns</li>
  <li><strong>Improved Timing</strong>: More accurate register access timing based on real measurements</li>
  <li><strong>Optimized Performance</strong>: Device-specific optimizations based on observed behavior</li>
</ul>

<p><strong>Usage:</strong></p>
<ol>
  <li>Select a device in the Device Selection Panel</li>
  <li>Open the Configuration Panel</li>
  <li>Enable ‚ÄúBehavior Profiling‚Äù option</li>
  <li>Adjust ‚ÄúProfile Duration‚Äù if needed</li>
  <li>Start the build process</li>
</ol>

<p>During the build, a dedicated ‚ÄúBehavior Profiling‚Äù stage will appear in the progress panel, showing real-time status of the profiling process.</p>

<h3 id="system-status-monitoring">System Status Monitoring</h3>

<p>The TUI continuously monitors:</p>
<ul>
  <li>Podman service status</li>
  <li>Vivado installation and version</li>
  <li>Available USB devices</li>
  <li>System resources (CPU, memory, disk)</li>
  <li>VFIO support status</li>
</ul>

<h3 id="build-process-integration">Build Process Integration</h3>

<ul>
  <li><strong>Container Orchestration</strong>: Manages Podman container lifecycle</li>
  <li><strong>Progress Parsing</strong>: Parses build output for progress indicators</li>
  <li><strong>Resource Tracking</strong>: Monitors system resource usage during builds</li>
  <li><strong>Log Analysis</strong>: Analyzes build logs for errors and warnings</li>
</ul>

<h3 id="configuration-validation">Configuration Validation</h3>

<ul>
  <li><strong>Real-time Validation</strong>: Validates configuration as you type</li>
  <li><strong>Compatibility Checks</strong>: Warns about incompatible settings</li>
  <li><strong>Resource Requirements</strong>: Estimates resource requirements</li>
</ul>

<h2 id="-troubleshooting">üêõ Troubleshooting</h2>

<h3 id="tui-wont-start">TUI Won‚Äôt Start</h3>

<ol>
  <li><strong>Check Dependencies</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">-r</span> requirements-tui.txt
</code></pre></div>    </div>
  </li>
  <li><strong>Check Python Version</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">--version</span>  <span class="c"># Should be 3.8+</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Check Terminal Compatibility</strong>:
    <ul>
      <li>Ensure terminal supports ANSI colors</li>
      <li>Try different terminal emulator</li>
    </ul>
  </li>
</ol>

<h3 id="device-detection-issues">Device Detection Issues</h3>

<ol>
  <li><strong>Run as Root</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Using the sudo wrapper (recommended)</span>
./install-sudo-wrapper.sh  <span class="c"># Install the wrapper first</span>
pcileech-tui-sudo
   
<span class="c"># Or directly with sudo</span>
<span class="nb">sudo </span>python3 pcileech.py tui
</code></pre></div>    </div>

    <blockquote>
      <p><strong>Note</strong>: When running with sudo, you might encounter the error <code class="language-plaintext highlighter-rouge">ModuleNotFoundError: No module named 'src'</code>. This happens because sudo changes the Python module search path. Use the provided sudo wrapper script to avoid this issue.</p>
    </blockquote>
  </li>
  <li><strong>Check lspci</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lspci <span class="nt">-Dnn</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Verify IOMMU</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dmesg | <span class="nb">grep</span> <span class="nt">-i</span> iommu
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="build-failures">Build Failures</h3>

<ol>
  <li><strong>Check Container Image</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>podman images | <span class="nb">grep </span>dma-fw
</code></pre></div>    </div>
  </li>
  <li><strong>Verify Device Binding</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">-la</span> /dev/vfio/
</code></pre></div>    </div>
  </li>
  <li><strong>Check Logs</strong>:
    <ul>
      <li>Use ‚ÄúView Logs‚Äù button in TUI</li>
      <li>Check <code class="language-plaintext highlighter-rouge">generate.log</code> file</li>
    </ul>
  </li>
</ol>

<h2 id="Ô∏è-development">üõ†Ô∏è Development</h2>

<h3 id="architecture">Architecture</h3>

<p>The TUI follows a modular architecture:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>src/tui/
‚îú‚îÄ‚îÄ main.py              # Main application
‚îú‚îÄ‚îÄ models/              # Data models
‚îú‚îÄ‚îÄ core/                # Business logic services
‚îú‚îÄ‚îÄ widgets/             # Custom UI widgets
‚îú‚îÄ‚îÄ screens/             # Screen components
‚îî‚îÄ‚îÄ styles/              # CSS styling
</code></pre></div></div>

<h3 id="key-components">Key Components</h3>

<ul>
  <li><strong>DeviceManager</strong>: PCIe device discovery and management</li>
  <li><strong>ConfigManager</strong>: Configuration and profile management</li>
  <li><strong>BuildOrchestrator</strong>: Build process orchestration</li>
  <li><strong>StatusMonitor</strong>: System status monitoring</li>
</ul>

<h3 id="extending-the-tui">Extending the TUI</h3>

<ol>
  <li><strong>Add New Widgets</strong>: Create custom widgets in <code class="language-plaintext highlighter-rouge">src/tui/widgets/</code></li>
  <li><strong>Add New Screens</strong>: Create screen components in <code class="language-plaintext highlighter-rouge">src/tui/screens/</code></li>
  <li><strong>Extend Models</strong>: Add new data models in <code class="language-plaintext highlighter-rouge">src/tui/models/</code></li>
  <li><strong>Add Services</strong>: Create new services in <code class="language-plaintext highlighter-rouge">src/tui/core/</code></li>
</ol>

<h2 id="-contributing">ü§ù Contributing</h2>

<ol>
  <li>Follow the existing code structure</li>
  <li>Add type hints to all functions</li>
  <li>Include docstrings for public methods</li>
  <li>Test with various PCIe devices</li>
  <li>Ensure backward compatibility</li>
</ol>

<h2 id="-license">üìÑ License</h2>

<p>Same as the main PCILeech project.</p>

<h2 id="Ô∏è-disclaimer">‚ö†Ô∏è Disclaimer</h2>

<p>This tool is intended for educational research and legitimate PCIe development purposes only. Users are responsible for ensuring compliance with all applicable laws and regulations. The authors assume no liability for misuse of this software.</p>

<hr />

<p><strong>Version 0.5.0</strong> - Major release with TUI interface and professional packaging</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">PCILeech Firmware Generator</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">PCILeech Firmware Generator</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Generate custom PCIe firmware for PCILeech</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
